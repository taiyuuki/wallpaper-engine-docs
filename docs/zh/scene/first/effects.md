---
tags:
  - water ripples
  - foliage sway
  - water flow
  - animation
  - clouds
  - lake
  - trees
---
# 添加你的第一个效果

在本教程中，我们将使用带有湖泊，树木和山脉的图像（[单击此处下载](/wallpaper-engine-docs/img/tutorials/mountain.png)），我们将使用它来展示一些基本效果。

导入图像后，你将看到Wallpaper Engine编辑器主窗口。在本节中，我们将解释什么是**效果**以及如何应用它们。图像效果可以在编辑器右侧的属性部分找到（在以下屏幕截图中**标记为蓝色**）：

![Effects can be found on the right-hand side of the editor](./overview.png)

效果始终应用于**组件**之上。现在，你的壁纸仅包含一个组件：也就是你导入的背景图像。

# 为湖泊创建动画

我们首先使用**水波纹**效果对湖水进行动画处理。在右侧，单击效果部分中的**添加**按钮。将打开一个弹出窗口，你可以从中查看所有当前安装的效果。选择**水波纹**效果并单击**确认**按钮。

你会注意到整个壁纸会立即应用水波纹效果，这是默认设置。但我们只希望将水效果应用于图像中的湖泊区域。

我们可以通过绘制**不透明蒙版**来限制效果的区域。点击**不透明蒙版**部分的**绘制**按钮。你就可以开始绘制湖泊的粗略轮廓，如下面的视频所示。水波纹现在应该仅限于湖泊区域。通过**显示蒙版**选项，你可以查看效果绘制的区域。观看以下视频，了解这些基本步骤的实际应用：

<video width="100%" controls loop autoplay>
  <source :src="$withBase('/videos/opacity_mask.mp4')" type="video/mp4">
  Your browser does not support the video tag.
</video>

第一次绘制时边缘会很粗糙，波纹在图像中看起来强烈的不真实。为此，你可以在绘制时使用左下角的**数量**和**大小**滑块。通过降低该这些值，可以降低所绘制区域中水波纹的感知强度。通过将其设置为0，你可以完全擦除意外绘制的任何区域。蒙版**数量**的变化，越低表示颜色越暗、越高表示颜色越亮。

你可以通过将值设置为0来擦除任何不需要的区域，例如意外绘制的海岸线，并逐渐降低远处水波纹的**数量**，而不是给所有区域都绘制为最大值，这将产生更逼真的效果。

观看以下视频以了解此过程，你可能需要对其进行多次调整，直到它开始看起来显得逼真。尤其是最远和靠近海岸线的位置，请尽量使用低于60的**数量**，调整画笔的大小，以精确绘制图像的细节。

<video width="100%" controls>
  <source :src="$withBase('/videos/opacity_mask_fix.mp4')" type="video/mp4">
  Your browser does not support the video tag.
</video>

你可以重复此过程，直到轮廓更完善，一些细小的问题在应用壁纸后是看不到的，因此，即使不透明蒙版做不到像素级别的完美，也请不要担心！

## 为林线添加随风摇摆效果

接下来，我们将为图片中的林线添加摇摆效果，模仿随风摇摆的树木。最适合是**树叶摇摆**效果。返回到背景图层，像之前一样单击效果区域中的**添加**按钮，然后添加**树叶摇摆**效果。

就像我们在上一节中添加的水波纹一样，整个背景层都在摇摆。单击不透明蒙版部分旁边的**绘制**按钮，然后开始在树区域上绘制。与水波纹类似，较远的区域应绘制较低的值。

在我们当前的示例中，湖对岸最远的树木的数值应当较低，为128，而图像右侧正面的树木为最大值为255。你还可以调整摇摆效果的属性。例如，由于目前图像过于平静，因此降低**速度**、微调**方向**，也许就是有意义的调整。但这些都是完全主观的，你应该亲自尝试一下，看看具体实现什么样的视觉变化。

观看以下视频，其中展示了我们绘制的不透明蒙版以及我们如何微调某些属性：

<video width="100%" controls>
  <source :src="$withBase('/videos/sway_effect.mp4')" type="video/mp4">
  Your browser does not support the video tag.
</video>

## 创建云朵移动动画

使用Wallpaper Engine，你可以随时尝试使用效果的替代方法。在本节中，我们将使用水流效果对云进行动画处理。与前两个效果不同，此效果没有不透明蒙版，而是具有**流量图**。主要区别在于，在你实际绘制之前，它不会创建任何可见的效果，并且在绘制时，鼠标移动的方向实际上会影响效果的方向。**流量图**用不同的颜色表示不同的方向。

将**水流**效果添加到背景图层，然后从左到右开始在云上绘制。云将开始沿鼠标所走的方向无限移动，并将连续重复此移动。你可能还会注意到，使用默认设置时，云移动得有点太快了。云的实际移动速度应当是很慢的，因此请尝试大幅降低**流量图**的**速度**属性，以实现更真实的云移动效果。就和上面说的一样，你可以通过将值设置为0，然后再次在图像的这些特定区域上进行绘制从而将图像的任何区域删除效果。

你可以观看以下视频，了解如何绘制流量图以及我们如何降低效果的速度：

<video width="100%" controls>
  <source :src="$withBase('/videos/cloud_effect.mp4')" type="video/mp4">
  Your browser does not support the video tag.
</video>

图像效果的基本介绍到此结束。所有效果的工作方式都与本节介绍的效果类似，你可以通过阅读本文档的相关页面进一步探索。本教程的下一部分将向你介绍壁纸组件。