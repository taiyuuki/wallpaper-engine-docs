---
prev: ../introduction.md
---

# 粒子系统 - 发射器

粒子系统的发射器决定了产生新粒子的方式。粒子系统至少需要一个发射器才能运行。

有两种类型的发射器：

* **随机球体：** 在粒子系统原点周围的圆形球体中生成粒子。
* **随机方框：** 在粒子系统原点周围的矩形中生成粒子。

不同的发射器除了个别设置有所不同，大部分设置都是相同的。

### 偏移

定义粒子生成的每个方向相对于粒子系统位置的偏移量。

### 方向

定义粒子围绕其原点生成的方向。值 `1` 表示等于 `最大距离` 的值，可以进一步配置该值。

将 `Y` 设置为 `2` 意味着发射器的高度是最大距离的两倍。将其设置为 `0` 意味着发射器没有高度，所有粒子都在一条水平的直线上生成。同样的逻辑适用于宽度值 `X` 和深度值 `Z`（在 3D 壁纸中）。

### 符号 (仅限随机球体发射器)

此设置可以让你强制粒子在指定轴上的生成位置。有效值为：

* `0`：默认值，正值和负值均可。
* `1`：只能使用正值。
* `-1`：只能使用负值。

例如，设置 `X` 为 `-1`，所有 `X` 值都将为负值，这意味着粒子将在粒子系统的左侧生成。查看以下视频，注意左上角不同的 X / Y 组合下的不同效果：

<video width="90%" style="margin:0 auto;display:block;" controls loop autoplay>
  <source :src="$withBase('/videos/particle_system_sign.mp4')" type="video/mp4">
  Your browser does not support the video tag.
</video>

### 最小距离

粒子从粒子系统中心生成的最小距离。

### 最大距离

粒子从粒子系统中心生成的最大距离。可以通过调整上述选项中的 `方向` 来进一步调整此值。

### 控制点

可以让将发射器位置连接到控制点。详细请参阅 [**控制点**](/wallpaper-engine-docs/scene/particles/component/control_point.html)部分。

### 比率

每秒生成的粒子数。粒子的最大数量在粒子系统的 **系统** 设置中定义。

### 持续时间

发射器的生命周期（以秒为单位）。默认值 `0` 表示发射器永远不会消失。值为 `10` 表示发射器将在 10 秒后停止发射新粒子，但现有粒子将继续存在，直到它们根据其它设置消失。

（发射器消失后）你只能通过 SceneScript 重新启动粒子发射器。如果需要，可以通过 [SceneScript](/wallpaper-engine-docs/scene/scenescript/reference/class/IParticleSystem.html) 调用粒子系统上的 `play()` 和 `stop()` 方法来满足的自定义需求

::: warning 请注意
在 Wallpaer Engine 编辑器中，粒子系统将始终无限期可见，你只有在应用和预览壁纸时才能看到实际效果。
:::

### 瞬时

创建粒子系统时立即生成的粒子数。根据粒子系统的配置，可以生成更多的粒子，但你要记住粒子能够保持的最大数量，可以在粒子系统的 **系统** 设置中对其进行配置。

### 每帧限制为一个

启用后，发射器每帧仅生成一个粒子。这意味着用户配置的 FPS 限制会对粒子数量产生影响。

### 最小速度

与 **运算符** 结合的粒子最小速度。

### 最大速度

与 **运算符** 结合的粒子最大速度。

## 音频响应

设置为 `中心` 为意味着粒子系统将同时对左右音频通道进行音频响应。发射器仅在播放音频时生效。

### 指数

使音频响应的功率偏向较低或较高的值。通过增加此值，可以降低低频音量对发射器的影响程度。

### 界限

界限控制音频响应的开始和停止点。如果音频界限配置为 0 和 1，则音频效果将缓慢淡出。通过使界限范围更窄，可以实现更突然的效果。例如，如果将界限设置为 0.8 和 1，则音频响应能力将仅对介于 0.8 和 1 之间的音量生效，这会使音频效果更加突然，并将其限制在音量界限范围内。

### 最大频率

效果响应的最高音频频率。值的范围从 0 到 15，其中 0 是低音，15 是高音。例如，如果希望发射器仅对正在播放的音乐的节拍做出反应，请将其设置为 1（因为节拍通常是由较低的低音频率组成）。

### 最小频率

效果响应的最低音频频率。值的范围从 0 到 15，其中 0 是低音，15 是高音。例如，如果希望发射器仅对正在播放的音乐的节拍做出反应，请将其设置为 0（因为节拍通常由较低的低音频率组成）。