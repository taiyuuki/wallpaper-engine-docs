(window.webpackJsonp=window.webpackJsonp||[]).push([[327],{691:function(t,s,a){"use strict";a.r(s);var n=a(26),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"使用-scenescript-修改颜色"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-scenescript-修改颜色"}},[t._v("#")]),t._v(" 使用 SceneScript 修改颜色")]),t._v(" "),a("p",[t._v("在本指南中，我们将介绍如何使用 SceneScript 修改对象的颜色。我们将介绍如何利用"),a("code",[t._v("WEColor")]),t._v("模块轻松切换颜色，而不必手动处理 "),a("strong",[t._v("RGB")]),t._v(" 值。与往常一样，这只是一个示例，你可以以更复杂的方式修改颜色并创建自己的自定义行为。")]),t._v(" "),a("video",{attrs:{width:"100%",controls:"",autoplay:"",loop:""}},[a("source",{attrs:{src:t.$withBase("/videos/scenescript_color.mp4"),type:"video/mp4"}}),t._v("\n  Your browser does not support the video tag.\n")]),t._v(" "),a("h2",{attrs:{id:"颜色属性和scenescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#颜色属性和scenescript"}},[t._v("#")]),t._v(" 颜色属性和SceneScript")]),t._v(" "),a("p",[t._v("Wallpaper Engine中的 color 属性始终用"),a("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/Vec3"}},[t._v("Vec3")]),t._v("对象表示。这三个属性表示三个 RGB 颜色通道：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("x")]),t._v(": 红色通道（R）")]),t._v(" "),a("li",[a("code",[t._v("y")]),t._v(": 绿色通道（G）")]),t._v(" "),a("li",[a("code",[t._v("z")]),t._v(": 蓝色通道（B）")])]),t._v(" "),a("p",[t._v("你可以根据自己的喜好使用 SceneScript 修改这些 RGB 值，值的范围是从0到255。")]),t._v(" "),a("h2",{attrs:{id:"彩虹色示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#彩虹色示例"}},[t._v("#")]),t._v(" 彩虹色示例")]),t._v(" "),a("p",[t._v("要实现彩虹色示例，首先在壁纸中选择一个图像图层。然后单击 "),a("strong",[t._v("色调颜色")]),t._v(" 属性旁边的齿轮图标，选择"),a("strong",[t._v("绑定脚本")]),t._v("并在脚本编辑器里进行查看。")]),t._v(" "),a("h3",{attrs:{id:"利用wecolor模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#利用wecolor模块"}},[t._v("#")]),t._v(" 利用WEColor模块")]),t._v(" "),a("p",[t._v("SceneScript 提供了"),a("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/module/WEColor"}},[t._v("WEColor")]),t._v("模块，该模块包含一些实用函数，能让你更轻松地处理颜色。在我们的示例中，我们希望不断改变颜色。如果使用RGB来实现是相当繁琐的，更好的做法是使用"),a("strong",[t._v("HSV")]),t._v("颜色，而不是标准的RGB。")]),t._v(" "),a("p",[t._v("如果你还不熟悉 HSV：它是由表示颜色的三个值构成：色调（也叫色相，Hue），饱和度（Saturation）和亮度（Value）。其中只有"),a("strong",[t._v("色调")]),t._v("用来表示颜色，这对于我们处理颜色会非常方便，因为我们只需要修改单个值，而不必处理RGB三个颜色值。")]),t._v(" "),a("p",[t._v("我们首先将"),a("code",[t._v("WEColor")]),t._v("模块导入到脚本中：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" WEColor "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'WEColor'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("在"),a("code",[t._v("update()")]),t._v("函数中，我们利用"),a("code",[t._v("WEColor.hsv2rgb()")]),t._v("函数为每一帧生成新的 RGB 值。"),a("code",[t._v("WEColor.hsv2rgb()")]),t._v("函数将一个表示HSV值的"),a("code",[t._v("Vec3")]),t._v("对象作为参数，动态生成RGB值，如下所示：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\tvalue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" WEColor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hsv2rgb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" engine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("runtime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\ty"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tz"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("如你所见，我们主要关心这里的"),a("code",[t._v("x")]),t._v("值，它代表了颜色的色调（Hue）值。我们让它与"),a("code",[t._v("engine.runtime")]),t._v("变量一起增加。只要加载并运行壁纸，"),a("code",[t._v("engine.runtime")]),t._v("变量就会不断增加，因此我们就有了无限的颜色变化。在我们的示例中，我们将该值乘以 0.25 以减慢变化速度，你可以根据自己的需求增加或减小此值。")]),t._v(" "),a("p",[a("strong",[t._v("饱和度")]),t._v(" "),a("code",[t._v("y")]),t._v(" 和"),a("strong",[t._v("亮度")]),t._v(" "),a("code",[t._v("z")]),t._v(" 则始终维持最大值1。")]),t._v(" "),a("h2",{attrs:{id:"完整的彩虹色解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#完整的彩虹色解决方案"}},[t._v("#")]),t._v(" 完整的彩虹色解决方案")]),t._v(" "),a("p",[t._v("下面是完整的彩虹色解决方案。我们将速度移动到脚本顶部命名的常量值"),a("code",[t._v("RAINBOW_SPEED")]),t._v("中，这样会更易于阅读和修改，并且我们对 HSV 颜色的饱和度和亮度也做了同样的事情。我们只需要简单地修改单个值，我们的 color 属性现在将以恒定的速度在所有颜色之间变换。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'use strict'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" WEColor "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'WEColor'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RAINBOW_SPEED")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RAINBOW_SATURATION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RAINBOW_BRIGHTNESS")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {Vec3} value\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\tvalue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" WEColor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hsv2rgb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" engine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("runtime "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RAINBOW_SPEED")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\ty"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RAINBOW_SATURATION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tz"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RAINBOW_BRIGHTNESS")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("你可以在 SceneScript 代码编辑器中方便地获取此示例，方法是单击顶部的"),a("strong",[t._v("代码段")]),t._v("，然后单击"),a("strong",[t._v("替换脚本")]),t._v("，选择"),a("strong",[t._v("彩虹颜色")]),t._v("。这会将当前元素的所有现有代码替换为上面的彩虹示例。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);