(window.webpackJsonp=window.webpackJsonp||[]).push([[292],{652:function(e,a,r){"use strict";r.r(a);var t=r(26),s=Object(t.a)({},(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"scenescript-class-iengine"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#scenescript-class-iengine"}},[e._v("#")]),e._v(" SceneScript class IEngine")]),e._v(" "),r("p",[e._v("你可以在全局脚本中的任何位置访问此接口，以获取有关用户系统和正在运行的壁纸的一些信息。")]),e._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#属性"}},[e._v("属性")]),r("ul",[r("li",[r("a",{attrs:{href:"#screenresolution-vec2"}},[e._v("screenResolution: Vec2")])]),r("li",[r("a",{attrs:{href:"#canvassize-vec2"}},[e._v("canvasSize: Vec2")])]),r("li",[r("a",{attrs:{href:"#userproperties-object"}},[e._v("userProperties: Object")])]),r("li",[r("a",{attrs:{href:"#timeofday-number"}},[e._v("timeOfDay: Number")])]),r("li",[r("a",{attrs:{href:"#frametime-number"}},[e._v("frametime: Number")])]),r("li",[r("a",{attrs:{href:"#runtime-number"}},[e._v("runtime: Number")])])])]),r("li",[r("a",{attrs:{href:"#常量"}},[e._v("常量")]),r("ul",[r("li",[r("a",{attrs:{href:"#audio-resolution-16-number"}},[e._v("AUDIO_RESOLUTION_16: Number")])]),r("li",[r("a",{attrs:{href:"#audio-resolution-32-number"}},[e._v("AUDIO_RESOLUTION_32: Number")])]),r("li",[r("a",{attrs:{href:"#audio-resolution-64-number"}},[e._v("AUDIO_RESOLUTION_64: Number")])])])]),r("li",[r("a",{attrs:{href:"#函数"}},[e._v("函数")]),r("ul",[r("li",[r("a",{attrs:{href:"#isdesktopdevice-boolean"}},[e._v("isDesktopDevice(): Boolean")])]),r("li",[r("a",{attrs:{href:"#ismobiledevice-boolean"}},[e._v("isMobileDevice(): Boolean")])]),r("li",[r("a",{attrs:{href:"#iswallpaper-boolean"}},[e._v("isWallpaper(): Boolean")])]),r("li",[r("a",{attrs:{href:"#isscreensaver-boolean"}},[e._v("isScreensaver(): Boolean")])]),r("li",[r("a",{attrs:{href:"#isportrait-boolean"}},[e._v("isPortrait(): Boolean")])]),r("li",[r("a",{attrs:{href:"#islandscape-boolean"}},[e._v("isLandscape(): Boolean")])]),r("li",[r("a",{attrs:{href:"#isrunningineditor-boolean"}},[e._v("isRunningInEditor(): Boolean")])]),r("li",[r("a",{attrs:{href:"#registeraudiobuffers-resolution-number-audiobuffers"}},[e._v("registerAudioBuffers(resolution: Number): AudioBuffers")])]),r("li",[r("a",{attrs:{href:"#registerasset-file-string-iassethandle"}},[e._v("registerAsset(file: String): IAssetHandle")])]),r("li",[r("a",{attrs:{href:"#settimeout-callback-function-delay-number-function"}},[e._v("setTimeout(callback: Function, delay?: Number): Function")])]),r("li",[r("a",{attrs:{href:"#setinterval-callback-function-delay-number-function"}},[e._v("setInterval(callback: Function, delay?: Number): Function")])])])])])]),r("p"),e._v(" "),r("h2",{attrs:{id:"属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[e._v("#")]),e._v(" 属性")]),e._v(" "),r("h3",{attrs:{id:"screenresolution-vec2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#screenresolution-vec2"}},[e._v("#")]),e._v(" screenResolution: Vec2")]),e._v(" "),r("p",[e._v("屏幕分辨率。")]),e._v(" "),r("h3",{attrs:{id:"canvassize-vec2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#canvassize-vec2"}},[e._v("#")]),e._v(" canvasSize: Vec2")]),e._v(" "),r("p",[e._v("编辑器中定义的壁纸尺寸，只适用于2D场景壁纸。")]),e._v(" "),r("h3",{attrs:{id:"userproperties-object"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#userproperties-object"}},[e._v("#")]),e._v(" userProperties: Object")]),e._v(" "),r("p",[e._v("获取用户属性和用户属性当前的值。其中颜色属性会自动转换为 Vec3。")]),e._v(" "),r("h3",{attrs:{id:"timeofday-number"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#timeofday-number"}},[e._v("#")]),e._v(" timeOfDay: Number")]),e._v(" "),r("p",[e._v("以[0.00, 1.00]的范围表示一天中的时间。这意味着00:00:00表示为0.00，23:59:59表示为1.00。")]),e._v(" "),r("h3",{attrs:{id:"frametime-number"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#frametime-number"}},[e._v("#")]),e._v(" frametime: Number")]),e._v(" "),r("p",[e._v("更新上一帧所花费的时间。此属性非常有用，因为它可以让你创建具有规范化速度的动画。如果使用 SceneScript 创建任何类型的动画，对于具有不同 FPS 限制的用户，它将具有不同的速度，除非你优先使用"),r("code",[e._v("engine.frametime")]),e._v("对速度进行平衡。")]),e._v(" "),r("h3",{attrs:{id:"runtime-number"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#runtime-number"}},[e._v("#")]),e._v(" runtime: Number")]),e._v(" "),r("p",[e._v("壁纸运行的总时间（以秒为单位）。")]),e._v(" "),r("div",{staticClass:"custom-block danger"},[r("p",{staticClass:"custom-block-title"},[e._v("Please Note")]),e._v(" "),r("p",[e._v("runtime会保留有限的浮点精度。如果你想创建一个计时器，请考虑使用"),r("code",[e._v("setTimeout()")]),e._v("作为替代。")])]),e._v(" "),r("h2",{attrs:{id:"常量"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#常量"}},[e._v("#")]),e._v(" 常量")]),e._v(" "),r("h3",{attrs:{id:"audio-resolution-16-number"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#audio-resolution-16-number"}},[e._v("#")]),e._v(" AUDIO_RESOLUTION_16: Number")]),e._v(" "),r("p",[e._v("用作"),r("code",[e._v("registerAudioBuffers()")]),e._v("的参数，创建具有"),r("strong",[e._v("16")]),e._v("个频段的"),r("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/AudioBuffers"}},[e._v("AudioBuffers")]),e._v("对象。")]),e._v(" "),r("h3",{attrs:{id:"audio-resolution-32-number"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#audio-resolution-32-number"}},[e._v("#")]),e._v(" AUDIO_RESOLUTION_32: Number")]),e._v(" "),r("p",[e._v("用作"),r("code",[e._v("registerAudioBuffers()")]),e._v("的参数，创建具有"),r("strong",[e._v("32")]),e._v("个频段的"),r("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/AudioBuffers"}},[e._v("AudioBuffers")]),e._v("对象。")]),e._v(" "),r("h3",{attrs:{id:"audio-resolution-64-number"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#audio-resolution-64-number"}},[e._v("#")]),e._v(" AUDIO_RESOLUTION_64: Number")]),e._v(" "),r("p",[e._v("用作"),r("code",[e._v("registerAudioBuffers()")]),e._v("的参数，创建具有"),r("strong",[e._v("64")]),e._v("个频段的"),r("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/AudioBuffers"}},[e._v("AudioBuffers")]),e._v("对象。")]),e._v(" "),r("h2",{attrs:{id:"函数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[e._v("#")]),e._v(" 函数")]),e._v(" "),r("h3",{attrs:{id:"isdesktopdevice-boolean"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#isdesktopdevice-boolean"}},[e._v("#")]),e._v(" isDesktopDevice(): Boolean")]),e._v(" "),r("p",[e._v("返回"),r("code",[e._v("true")]),e._v("说明当前的Wallpaper Engine在PC上运行，"),r("code",[e._v("false")]),e._v("则在移动设备上。")]),e._v(" "),r("h3",{attrs:{id:"ismobiledevice-boolean"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ismobiledevice-boolean"}},[e._v("#")]),e._v(" isMobileDevice(): Boolean")]),e._v(" "),r("p",[e._v("返回"),r("code",[e._v("true")]),e._v("说明当前的Wallpaper Engine在移动设备上运行，"),r("code",[e._v("false")]),e._v("则在PC上。")]),e._v(" "),r("h3",{attrs:{id:"iswallpaper-boolean"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#iswallpaper-boolean"}},[e._v("#")]),e._v(" isWallpaper(): Boolean")]),e._v(" "),r("p",[e._v("当壁纸被用作壁纸（而不是屏幕保护程序）时返回"),r("code",[e._v("true")]),e._v("。")]),e._v(" "),r("h3",{attrs:{id:"isscreensaver-boolean"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#isscreensaver-boolean"}},[e._v("#")]),e._v(" isScreensaver(): Boolean")]),e._v(" "),r("p",[e._v("当壁纸被用作屏幕保护程序（而不是壁纸）时返回"),r("code",[e._v("true")]),e._v("。")]),e._v(" "),r("h3",{attrs:{id:"isportrait-boolean"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#isportrait-boolean"}},[e._v("#")]),e._v(" isPortrait(): Boolean")]),e._v(" "),r("p",[e._v("如果壁纸分辨率是横屏，则返回"),r("code",[e._v("true")]),e._v("。")]),e._v(" "),r("h3",{attrs:{id:"islandscape-boolean"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#islandscape-boolean"}},[e._v("#")]),e._v(" isLandscape(): Boolean")]),e._v(" "),r("p",[e._v("如果壁纸分辨率是竖屏，则返回"),r("code",[e._v("true")]),e._v("。")]),e._v(" "),r("h3",{attrs:{id:"isrunningineditor-boolean"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#isrunningineditor-boolean"}},[e._v("#")]),e._v(" isRunningInEditor(): Boolean")]),e._v(" "),r("p",[e._v("你可以使用此函数来检查当前脚本是否正在运行中。")]),e._v(" "),r("h3",{attrs:{id:"registeraudiobuffers-resolution-number-audiobuffers"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#registeraudiobuffers-resolution-number-audiobuffers"}},[e._v("#")]),e._v(" registerAudioBuffers(resolution: Number): AudioBuffers")]),e._v(" "),r("p",[e._v("注册你的脚本到音频响应系统中，并获得用户的当前音频电平。"),r("code",[e._v("resolution")]),e._v("参数是必需的，用于定义分割音频频段的数量。为了节省内存和性能，你应该尽量使用实际需要的最低数字。")]),e._v(" "),r("p",[e._v("有效的"),r("code",[e._v("resolution")]),e._v("参数是"),r("code",[e._v("engine.AUDIO_RESOLUTION_16")]),e._v("，"),r("code",[e._v("engine.AUDIO_RESOLUTION_32")]),e._v("和"),r("code",[e._v("engine.AUDIO_RESOLUTION_64")]),e._v("，它们分别将音频频段分割为16，32和64个频段。")]),e._v(" "),r("p",[e._v("函数返回一个"),r("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/AudioBuffers"}},[e._v("AudioBuffers")]),e._v("对象，你可以将其存储到每帧渲染的音频电平中。")]),e._v(" "),r("h3",{attrs:{id:"registerasset-file-string-iassethandle"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#registerasset-file-string-iassethandle"}},[e._v("#")]),e._v(" registerAsset(file: String): IAssetHandle")]),e._v(" "),r("p",[e._v("如果使用 SceneScript 动态创建任何图层，请使用此函数将该组件标记为在你的壁纸中被使用。这对于发布到创意工坊非常重要，因为只有被使用或被标记的组件才会被打包到生成的场景壁纸中。")]),e._v(" "),r("h3",{attrs:{id:"settimeout-callback-function-delay-number-function"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#settimeout-callback-function-delay-number-function"}},[e._v("#")]),e._v(" setTimeout(callback: Function, delay?: Number): Function")]),e._v(" "),r("p",[e._v("以毫秒为单位启动延时器。返回可以提前停止延时器的回调。")]),e._v(" "),r("h3",{attrs:{id:"setinterval-callback-function-delay-number-function"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setinterval-callback-function-delay-number-function"}},[e._v("#")]),e._v(" setInterval(callback: Function, delay?: Number): Function")]),e._v(" "),r("p",[e._v("以毫秒为单位启动计时器。返回可以提前停止计时器的回调。")])])}),[],!1,null,null,null);a.default=s.exports}}]);