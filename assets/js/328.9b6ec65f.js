(window.webpackJsonp=window.webpackJsonp||[]).push([[328],{689:function(t,s,e){"use strict";e.r(s);var n=e(26),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"鼠标点击事件与scenescript"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#鼠标点击事件与scenescript"}},[t._v("#")]),t._v(" 鼠标点击事件与SceneScript")]),t._v(" "),e("p",[t._v("SceneScript 提供了一些与鼠标相关的事件，可让你对鼠标移动和鼠标点击做出响应。请务必查看鼠标事件的参考页快速了解其概述：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/event/cursor"}},[t._v("SceneScript鼠标事件")])])]),t._v(" "),e("p",[t._v("在这个页面，我们将向你展示一些可以应用于壁纸的用例。")]),t._v(" "),e("h2",{attrs:{id:"鼠标点击播放声音"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#鼠标点击播放声音"}},[t._v("#")]),t._v(" 鼠标点击播放声音")]),t._v(" "),e("p",[t._v("为了实现点击壁纸元素播放声音，你首先需要将声音文件导入编辑器。导入声音文件后，选择它并更改以下内容：")]),t._v(" "),e("ul",[e("li",[t._v("为声音层指定一个简洁且唯一的名称，之后将在 SceneScript 代码中用到它。默认情况下，使用的是音频文件的文件名。")]),t._v(" "),e("li",[t._v("将"),e("strong",[t._v("模式")]),t._v("选项设置为"),e("strong",[t._v("单")]),t._v("，以便声音只播放一次。")]),t._v(" "),e("li",[t._v("启用底部的"),e("strong",[t._v("无声开始")]),t._v("选项，否则加载壁纸时声音将播放一次。")])]),t._v(" "),e("p",[t._v("准备好声音层后，选择要单击以播放声音文件的层。对于像这样的常规事件，在Wallpaper Engine中没有专门定义它们的地方。习惯上，我们将鼠标单击事件放在右上角的"),e("strong",[t._v("可见性")]),t._v("属性中。所以，单击图层右上角眼睛图标旁边的齿轮图标，然后选择"),e("strong",[t._v("绑定脚本")]),t._v("：")]),t._v(" "),e("p",[e("img",{attrs:{src:"/wallpaper-engine-docs/img/scenescript/scenescript_event_script.png",alt:"SceneScript Event Script Location"}})]),t._v(" "),e("p",[t._v("你将看到一个空的"),e("code",[t._v("update()")]),t._v("函数，你可以删除该函数，因为点击事件不需要它。为了对鼠标点击做出反应，我们需要"),e("code",[t._v("cursorClick()")]),t._v("函数。当用户单击Wallpaper Engine中的对象时，Wallpaper Engine将自动执行此函数。在事件函数中，我们需要用"),e("code",[t._v("thisScene.getLayer()")]),t._v("获取我们之前使用的声音层，并在其上执行"),e("code",[t._v("play()")]),t._v("函数以播放声音。")]),t._v(" "),e("p",[t._v("以下面的代码片段为例，你只需将"),e("code",[t._v("PLACEHOLDER")]),t._v("替换为声音层的实际名称即可。单击"),e("strong",[t._v("确定")]),t._v("关闭 SceneScript 编辑器，然后单击编辑器顶部的"),e("strong",[t._v("运行预览")]),t._v("，最后点击元素测试事件是否正常工作。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'use strict'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SOUND_LAYER_NAME")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PLACEHOLDER'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {CursorEvent} event\n */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cursorClick")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tthisScene"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLayer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SOUND_LAYER_NAME")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("play")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("你无需将此示例复制粘贴到编辑器中，你可以在编辑器中快速访问此代码片段，通过单击"),e("strong",[t._v("代码段")]),t._v("，然后单击"),e("strong",[t._v("替换脚本")]),t._v("，你将在可用代码片段列表中找到"),e("strong",[t._v("单击播放音效")]),t._v("。")])]),t._v(" "),e("h2",{attrs:{id:"鼠标点击运行时间轴动画"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#鼠标点击运行时间轴动画"}},[t._v("#")]),t._v(" 鼠标点击运行时间轴动画")]),t._v(" "),e("p",[t._v("与上一教程类似，你还可以将此方法应用于"),e("a",{attrs:{href:"/wallpaper-engine-docs/scene/timeline/introduction"}},[t._v("时间轴动画")]),t._v("。我们在图像图层的 "),e("strong",[t._v("比例")]),t._v(" 属性上生成时间轴动画。在设置时间轴动画的过程中，将"),e("strong",[t._v("模式")]),t._v("设置为"),e("strong",[t._v("单个")]),t._v("，这一点很重要，这样我们的动画就只会播放一次。然后为时间轴动画命名。在我们的例子中，将其命名为"),e("code",[t._v("LogoShake")]),t._v("：")]),t._v(" "),e("p",[e("img",{attrs:{src:"/wallpaper-engine-docs/img/scenescript/scenescript_click_event_timeline.png",alt:"SceneScript Event Timeline Animation"}})]),t._v(" "),e("p",[t._v("现在，我们重复与上一节相同的步骤，在对象的可见性属性上创建一个"),e("code",[t._v("cursorClick()")]),t._v("函数。但是，在此示例中，我们需要获取并使用的是时间轴动画，而不是声音层。")]),t._v(" "),e("p",[t._v("为此，我们首先调用"),e("code",[t._v("thisLayer.getAnimation()")]),t._v("，在这里，如上所述，我们为时间轴动画填写了一个唯一的名称，以便我们可以将其名称放在"),e("code",[t._v("getAnimation()")]),t._v("函数的参数中，这一点很重要。最后，我们可以在动画上调用"),e("code",[t._v("play()")]),t._v("函数，该函数将在单击时播放动画。请参阅下面的完整示例，你只需确保将"),e("code",[t._v("LogoShake")]),t._v("替换为时间轴动画的名称即可。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'use strict'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {CursorEvent} event\n */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cursorClick")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tthisLayer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAnimation")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LogoShake"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("play")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("现在，当我们单击我们的对象时，我们的时间轴动画将播放一次，如以下视频所示：")]),t._v(" "),e("video",{attrs:{width:"100%",controls:"",loop:""}},[e("source",{attrs:{src:t.$withBase("/videos/scenescript_click_event_timeline.mp4"),type:"video/mp4"}}),t._v("\n  Your browser does not support the video tag.\n")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[t._v("理论上，我们在此页面上介绍的内容适用于所有包含某种"),e("code",[t._v("play()")]),t._v("功能的壁纸元素：")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/IAnimation"}},[t._v("IAnimation")]),t._v(" - 时间轴属性动画")]),t._v(" "),e("li",[e("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/IAnimationLayer"}},[t._v("IAnimationLayer")]),t._v(" - 操控变形动画")]),t._v(" "),e("li",[e("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/IParticleSystem"}},[t._v("IParticleSystem")]),t._v(" - 粒子系统")]),t._v(" "),e("li",[e("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/ISoundLayer"}},[t._v("ISoundLayer")]),t._v(" - 声音文件")]),t._v(" "),e("li",[e("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/ITextureAnimation"}},[t._v("ITextureAnimation")]),t._v(" - 纹理动画")]),t._v(" "),e("li",[e("a",{attrs:{href:"/wallpaper-engine-docs/scene/scenescript/reference/class/IVideoTexture"}},[t._v("IVideoTexture")]),t._v(" - 基于.MP4视频的纹理")])]),t._v(" "),e("p",[t._v("首先准备一个相关对象，然后从壁纸中获取它，然后调用其"),e("code",[t._v("play()")]),t._v("函数。")])])])}),[],!1,null,null,null);s.default=a.exports}}]);