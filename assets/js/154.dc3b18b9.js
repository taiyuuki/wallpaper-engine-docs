(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{515:function(t,e,a){"use strict";a.r(e);var s=a(26),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"time-of-day-changes-with-scenescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#time-of-day-changes-with-scenescript"}},[t._v("#")]),t._v(" Time of Day Changes with SceneScript")]),t._v(" "),a("p",[t._v("In this tutorial we will explain how SceneScript enables you to change parts of your wallpaper depending on the current time of day. Our example is rather specific, but you can access the current time of day via SceneScript via "),a("RouterLink",{attrs:{to:"/wallpaper-engine-docs/scene/scenescript/reference/class/IEngine.html#timeofday-number"}},[a("strong",[t._v("engine.timeOfDay")])]),t._v(" for your own ideas and custom logic of any type.")],1),t._v(" "),a("p",[t._v("Alternatively, you can also use the "),a("em",[t._v("ECMAScript")]),t._v(" "),a("code",[t._v("Date")]),t._v(" class to access the current hours, minutes seconds and more date-related data just like you would in other languages such as "),a("em",[t._v("JavaScript")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"change-background-image-depending-on-time-of-day"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#change-background-image-depending-on-time-of-day"}},[t._v("#")]),t._v(" Change Background Image Depending on Time of Day")]),t._v(" "),a("p",[t._v("We will explore how to utilize the "),a("a",{attrs:{href:"/wallpaper-engine-docs/scene/effects/effect/blend"}},[t._v("Blend effect")]),t._v(" to change the entire background image multiple times during a day depending on the current time. We strongly recommend that you utilize the "),a("em",[t._v("Blend")]),t._v(" effect for this type of effect instead of using multiple image layers to reduce VRAM usage. This can significantly improve performance, especially when using effects on the image layer.")]),t._v(" "),a("video",{attrs:{width:"100%",controls:"",autoplay:"",loop:""}},[a("source",{attrs:{src:t.$withBase("/videos/timeofday.mp4"),type:"video/mp4"}}),t._v("\n  Your browser does not support the video tag.\n")]),t._v(" "),a("h3",{attrs:{id:"base-image-with-blend-effect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#base-image-with-blend-effect"}},[t._v("#")]),t._v(" Base Image with Blend Effect")]),t._v(" "),a("p",[t._v("Start off by adding the image that you want to use at midnight as a base image for your wallpaper. In our case, it's the night-time version of a window, as shown in the animation above. It's important to use the midnight image as a base image, since our SceneScript logic will expect this image to be shown at exactly midnight when the clock reaches 00:00:00.")]),t._v(" "),a("p",[t._v("After adding the midnight image as a layer, add the "),a("a",{attrs:{href:"/wallpaper-engine-docs/scene/effects/effect/blend"}},[t._v("Blend effect")]),t._v(" to it to continue with the rest of this tutorial.")]),t._v(" "),a("h3",{attrs:{id:"blend-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#blend-mode"}},[t._v("#")]),t._v(" Blend Mode")]),t._v(" "),a("p",[t._v("Select the blend effect that you have added to your midnight layer. First, make sure to set the "),a("strong",[t._v("Blend mode")]),t._v(" option to "),a("strong",[t._v("Normal")]),t._v(". This is to ensure that each blend texture is rendered in its original state without being influenced by other blend textures. In some cases you may want to deviate from this for artistic purposes, but in most cases the "),a("strong",[t._v("Normal")]),t._v(" option is probably the best choice.")]),t._v(" "),a("h3",{attrs:{id:"number-of-textures"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#number-of-textures"}},[t._v("#")]),t._v(" Number of Textures")]),t._v(" "),a("p",[t._v("After configuring the blend mode, set the "),a("strong",[t._v("Number of textures")]),t._v(" option to each additional image you want to display throughout the day in addition to your starting image. In our case, we have "),a("strong",[t._v("three")]),t._v(" additional images in addition to the base image which represents night-time, so we set the value to "),a("strong",[t._v("3")]),t._v(":")]),t._v(" "),a("ol",[a("li",[t._v("Dawn")]),t._v(" "),a("li",[t._v("Mid-day")]),t._v(" "),a("li",[t._v("Dusk")])]),t._v(" "),a("p",[t._v("The quickest way to load the additional textures is by dragging and dropping them into the blend texture box. Make sure the images are in the correct order, from the beginning of the day until the end of the day.")]),t._v(" "),a("p",[t._v("See the following video to see the steps until here:")]),t._v(" "),a("video",{staticStyle:{margin:"0 auto",display:"block"},attrs:{width:"75%",controls:"",autoplay:"",loop:""}},[a("source",{attrs:{src:t.$withBase("/videos/blend_textures.mp4"),type:"video/mp4"}}),t._v("\n  Your browser does not support the video tag.\n")]),t._v(" "),a("p",[t._v("You should now see the last blend texture as your wallpaper texture, since the last blend texture is overlapping all other textures right now.")]),t._v(" "),a("h3",{attrs:{id:"scenescript-logic-for-blend-amount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scenescript-logic-for-blend-amount"}},[t._v("#")]),t._v(" SceneScript Logic for Blend Amount")]),t._v(" "),a("p",[t._v("This is where SceneScript comes in handy. We now need to alter the "),a("strong",[t._v("Blend amount")]),t._v(" options at the bottom of the "),a("em",[t._v("Blend effect")]),t._v(" properties list using SceneScript, so that each texture starts appearing at a specific time of day. We can achieve this with SceneScript by starting all blend amounts at a value of 0, followed by smoothly increasing the value to 1 when a specific time of day has been reached.")]),t._v(" "),a("p",[t._v("Click on the cogwheel icon next to the first "),a("strong",[t._v("Blend Amount")]),t._v(" value and select "),a("strong",[t._v("Bind Script")]),t._v(". Now replace the existing sample script with the following code snippet:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'use strict'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" WEMath "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'WEMath'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("START_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("END_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BLEND_DURATION")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.004")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" WEMath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("smoothStep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("START_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BLEND_DURATION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("START_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      engine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timeOfDay\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" WEMath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("smoothStep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("END_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("END_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BLEND_DURATION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      engine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timeOfDay\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("This snippet makes use of two Wallpaper Engine SceneScript features:")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/wallpaper-engine-docs/scene/scenescript/reference/class/IEngine.html#timeofday-number"}},[a("strong",[t._v("engine.timeOfDay")])]),t._v(" which represents the current day with values from 0.00 - 1.00 instead of seconds, where 0.00 is 00:00:00 and 1.00 is 23:59:59.")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/wallpaper-engine-docs/scene/scenescript/reference/module/WEMath.html#smoothstep-min-number-max-number-value-number-number"}},[a("strong",[t._v("WEMath.smoothStep()")])]),t._v(" is a function which smoothly calculates a value between two values which we use to smoothly blend over from one texture to the next.")],1)]),t._v(" "),a("p",[t._v("Add this script to all "),a("strong",[t._v("Blend amount")]),t._v(" values for each blend amount texture. Make sure to always reconfigure the "),a("code",[t._v("START_HOUR")]),t._v(" and "),a("code",[t._v("END_HOUR")]),t._v(" values to control at what time of day each blend texture appears.")]),t._v(" "),a("p",[t._v("The default value of "),a("code",[t._v("0.004")]),t._v(" for the "),a("code",[t._v("BLEND_DURATION")]),t._v(" constant results in a smooth transition that lasts exactly 14.4 seconds between the two adjacent blend layers, you can slightly adjust this value to your liking but make sure to use the same value for all layers. Increasing the value by "),a("code",[t._v("0.001")]),t._v(" increases the blend time by 3.6 seconds.")]),t._v(" "),a("p",[t._v("Double-check that you are not leaving any gaps between blend layers by accident, your values should cover the entire day without skipping any hour of the day. The only exception is around midnight, since the base image is always visible by default at exactly midnight.")]),t._v(" "),a("p",[t._v("In our example, we have set the following values but you should adjust them to your liking:")]),t._v(" "),a("p",[a("strong",[t._v("Blend amount:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("START_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("END_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Blend amount 2:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("START_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("END_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Blend amount 3:")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("START_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("END_HOUR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("If your day and night cycle contains a different number of blend textures, you need to distribute hourly texture changes appropriately.")]),t._v(" "),a("p",[t._v("In our example, the night-time base texture is visible before 7:00 in the morning and becomes visible again at 22:00 in the evening after the last blend texture fades out again. You cannot configure the midnight texture, it will be visible whenever all blend textures are invisible.")])])}),[],!1,null,null,null);e.default=n.exports}}]);