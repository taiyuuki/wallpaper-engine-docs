<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Processing Audio Data with SceneScript | Wallpaper Engine - Designer Documentation</title>
    <meta name="generator" content="VuePress 1.5.2">
    <meta name="description" content="This website covers the design features that Wallpaper Engine offers to wallpaper creators">
    <link rel="preload" href="/wallpaper-engine-docs/assets/css/0.styles.6b07116f.css" as="style"><link rel="preload" href="/wallpaper-engine-docs/assets/js/app.a9f24f61.js" as="script"><link rel="preload" href="/wallpaper-engine-docs/assets/js/9.94e6aa3a.js" as="script"><link rel="preload" href="/wallpaper-engine-docs/assets/js/1.53c8499c.js" as="script"><link rel="preload" href="/wallpaper-engine-docs/assets/js/150.121ecb67.js" as="script"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/10.8aab97ae.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/100.63b46d3f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/101.72deb809.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/102.7ec52d89.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/103.2cdbe062.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/104.9bdca092.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/105.bebe7652.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/106.2f249b77.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/107.92c958ae.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/108.f1cab495.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/109.2b867ea4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/11.f8b30274.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/110.633d6cd2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/111.a459df62.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/112.1b4da4cb.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/113.c02184c3.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/114.5d37e83b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/115.013ea614.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/116.785db91c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/117.216b890f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/118.342e40b2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/119.ff364b32.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/12.d771cff8.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/120.91aba1ed.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/121.6eb487a9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/122.26dd4ccf.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/123.fe824114.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/124.e478dd0a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/125.c22ef460.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/126.405d1899.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/127.fb928f82.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/128.e97a006b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/129.4456280d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/13.d018b77c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/130.7d7d3a6e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/131.76af4dca.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/132.34f46596.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/133.806a2233.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/134.1a820a34.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/135.8dd2fc26.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/136.718125af.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/137.45f85606.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/138.a1c55984.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/139.aaf1d006.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/14.efe4a2d8.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/140.90e47371.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/141.59ccb9d6.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/142.4a7892fb.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/143.a3da2bf7.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/144.47d605af.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/145.f1b8429c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/146.8664624f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/147.159e6f18.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/148.b9468916.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/149.f60a90e0.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/15.4f68d3cc.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/151.09131d23.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/152.84427cc6.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/153.0a909d5c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/154.dc3b18b9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/155.2a38c6f4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/156.c4d29c03.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/157.f0902efe.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/158.433e2b01.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/159.7859577f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/16.c1637c05.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/160.e67246df.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/161.1fb607a5.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/162.96305df4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/163.8e6d668b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/164.44d49658.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/165.c1d00b57.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/166.7d47b122.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/167.6a736e2e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/168.f0b0587e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/169.439962ed.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/17.7a5200b9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/170.6b77479b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/171.977420e8.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/172.265a6611.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/173.a09e0b2a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/174.b97489c8.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/175.2aeb35ff.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/176.f57f0259.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/177.62410ab4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/178.1cf856e9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/179.406b60a8.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/18.bd24d7ea.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/180.6df97a9b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/181.7e9b2a78.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/182.b4ab985d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/183.85b02424.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/184.09280046.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/185.f66856cd.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/186.002e8e6b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/187.3a00282e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/188.cdf1b68c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/189.0341c66a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/19.4c651f0e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/190.a259c3bd.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/191.0c3a4aea.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/192.06c34b8d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/193.1a7fc496.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/194.7ed5c013.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/195.f67219af.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/196.bac6d90b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/197.a139efda.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/198.9aaf841e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/199.217cf1d2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/20.eb743823.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/200.7cab470d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/201.5231d805.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/202.36905d79.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/203.c6f0b959.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/204.8f19f3df.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/205.bb38f85c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/206.efd2742b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/207.cb38ee9d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/208.3f023855.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/209.300f090b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/21.5654ed3f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/210.330f8449.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/211.f8179155.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/212.4231f3af.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/213.338f6b65.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/214.b34a1138.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/215.04cf7d05.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/216.b1d70d41.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/217.dd52c961.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/218.479daeae.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/219.90ce8db9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/22.e3684094.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/220.c6b3cf1c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/221.b10e2bdf.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/222.d73c7332.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/223.9f2b0c45.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/224.e10fe3c3.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/225.5a6ba39d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/226.6f7bbcfd.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/227.a611024a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/228.54f20586.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/229.2a8ffb65.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/23.c1f92043.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/230.341676b2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/231.2202235a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/232.49437f91.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/233.e92bf8fe.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/234.1f6ba5e9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/235.76ae7d07.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/236.5e8e5a0e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/237.113e012d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/238.b2a3577b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/239.2523fb75.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/24.2b6b7ad5.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/240.3c419eb1.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/241.8845477c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/242.7d10aa8e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/243.fea8d908.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/244.c8dc3a60.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/245.2e1b0875.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/246.952718fc.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/247.09b93032.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/248.8f63acda.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/249.6b070c6b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/25.5e471b2e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/250.69ba03c3.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/251.4212adb6.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/252.e35dc6d5.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/253.1d842265.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/254.cbaab520.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/255.f0b7c49d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/256.0e923f1c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/257.eef6c8ea.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/258.cfe8dcc3.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/259.e101030c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/26.b924904a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/260.0de3b3e2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/261.3afadc32.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/262.11709ea5.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/263.caaf0c7f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/264.d674cccf.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/265.4aedf01e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/266.0de20f81.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/267.692f043f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/268.28e01e5d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/269.4d0a3f9e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/27.6c606f56.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/270.f009f7a5.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/271.c791bd07.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/272.b6cdfc05.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/273.2bfc88b3.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/274.26657a8b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/275.183703bb.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/276.1d5ae6a0.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/277.9cd514da.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/278.ecaca6d4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/279.ac949d75.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/28.0bdb735c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/280.796f46d2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/281.b9b37458.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/282.bccee208.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/283.11683fd2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/284.df6efc67.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/285.b771d49a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/286.90a35d46.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/287.da51c376.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/288.f22c395a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/289.67444e26.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/29.65bd56b4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/290.1d3f8689.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/291.cb9d3de9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/292.4e83747d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/293.13ab5131.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/294.8963461d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/295.667e5c74.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/296.30c9b4c6.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/297.e1ef63cb.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/298.72b6e7e4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/299.70179d84.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/3.5ab43318.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/30.53dd0e48.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/300.a7c476dd.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/301.8771b0ad.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/302.97000713.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/303.256bbad7.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/304.9771178f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/305.187fb155.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/306.5ef056dd.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/307.e0dd65f2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/308.2d9c8036.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/309.a4bea179.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/31.39957165.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/310.ee404c97.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/311.6e2f221b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/312.61881504.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/313.a9f73ff6.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/314.ed283ab8.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/315.cbed59b9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/316.4e35a97b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/317.5abeff7b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/318.787b3369.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/319.f061c72c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/32.80d41f87.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/320.40c7dcab.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/321.34300cf6.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/322.4ba46af9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/323.288e3c70.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/324.6e75d221.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/325.1db59ae4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/326.e77b6e8f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/327.b3c9c758.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/328.9b6ec65f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/329.20d89e7a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/33.fa2f6d17.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/330.14a3e1ee.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/331.06bc085d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/332.7237621a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/333.931a2d74.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/334.d86fec77.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/335.bc16c549.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/336.675774bf.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/337.81b9f9da.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/338.ab38f56c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/339.65291801.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/34.117580e0.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/340.99a4f2fb.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/341.5359e048.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/342.28eeaec8.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/343.a8a53129.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/344.6002dd10.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/345.e52a2eb4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/346.1634ce41.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/347.b84c58f1.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/348.068ef688.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/349.45294a35.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/35.ecb92ba3.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/350.97d43490.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/351.c248da30.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/352.c642f16a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/353.21650e73.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/354.6a396868.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/355.924125fb.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/356.02b11160.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/357.3bc434cf.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/358.44c39895.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/359.78b0cc1f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/36.90307284.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/37.26409a71.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/38.3f9918f7.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/39.731addc4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/4.57846675.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/40.835d87fc.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/41.73ab293a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/42.faf9afda.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/43.013a4952.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/44.159382f8.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/45.ddfe2f5c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/46.b9465cde.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/47.8fdfccb0.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/48.902816d3.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/49.b8d159df.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/5.078b8f47.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/50.a35f54de.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/51.dec9bad6.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/52.909d40e9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/53.ebed301d.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/54.8faadd26.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/55.bb4fe927.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/56.3ade4a17.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/57.aab608bf.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/58.06e8c392.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/59.b79bdc7f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/6.ba882e4a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/60.595e7724.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/61.a8f8c428.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/62.151d68f6.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/63.e1a0cf7c.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/64.8c53fbd6.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/65.9814c33a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/66.e639d869.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/67.98ea5af8.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/68.f239ba52.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/69.6d42ebff.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/7.226085d1.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/70.5e4b08fc.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/71.3d8f1348.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/72.054269fb.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/73.53a5f5f1.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/74.cdc5745a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/75.a3162b12.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/76.77b11318.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/77.6203605b.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/78.7fa7aab2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/79.195197c5.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/8.68f953c1.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/80.5f560608.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/81.3e479c60.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/82.d2bdc1c9.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/83.a79e44ad.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/84.ffa4b30a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/85.51a22171.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/86.fe491cc7.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/87.03799e71.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/88.55bcac76.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/89.e3caf5e2.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/90.1c2eeae4.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/91.d0d25e83.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/92.b7c51d0f.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/93.59ab9587.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/94.99ba2bee.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/95.22193263.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/96.a3b1fa1e.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/97.e1e1f77a.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/98.3d7cf043.js"><link rel="prefetch" href="/wallpaper-engine-docs/assets/js/99.aa53e7df.js">
    <link rel="stylesheet" href="/wallpaper-engine-docs/assets/css/0.styles.6b07116f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wallpaper-engine-docs/en/" class="home-link router-link-active"><img src="/wallpaper-engine-docs/img/wallpaper_engine_logo_small.png" alt="Wallpaper Engine - Designer Documentation" class="logo"> <span class="site-name can-hide">Wallpaper Engine - Designer Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wallpaper-engine-docs/scene/overview.html" class="nav-link">
  Scene Guide
</a></div><div class="nav-item"><a href="/wallpaper-engine-docs/web/overview.html" class="nav-link">
  Web Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="English" class="dropdown-title"><span class="title">English</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wallpaper-engine-docs/zh/scene/scenescript/tutorial/audio.html" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/wallpaper-engine-docs/en/scene/scenescript/tutorial/audio.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wallpaper-engine-docs/scene/overview.html" class="nav-link">
  Scene Guide
</a></div><div class="nav-item"><a href="/wallpaper-engine-docs/web/overview.html" class="nav-link">
  Web Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="English" class="dropdown-title"><span class="title">English</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wallpaper-engine-docs/zh/scene/scenescript/tutorial/audio.html" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/wallpaper-engine-docs/en/scene/scenescript/tutorial/audio.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Overview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wallpaper-engine-docs/en/scene/overview.html" class="sidebar-link">The Wallpaper Engine Editor</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Your First Wallpaper</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Effects</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Assets</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>User Properties</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Audio Visualization</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Particle Systems</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Timeline Animations</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Image Preparation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Puppet Warp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Lighting &amp; Reflections</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Parallax Effect</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RGB Devices</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Performance Optimization</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Advanced: SceneScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>3D Models</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Very Advanced: Shader Programming</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="processing-audio-data-with-scenescript"><a href="#processing-audio-data-with-scenescript" class="header-anchor">#</a> Processing Audio Data with SceneScript</h1> <p>With SceneScript, you can access the audio levels on the current end-user device. Wallpaper Engine collects the audio levels of certain audio frequencies and makes them available to you for further processing. In this tutorial, we will explain the basics of retrieving these audio levels and we will implement an example where we change the size of an element in the editor to follow the beat of music that a user is playing.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can quickly access the finalized solution presented at the bottom of this page in the editor without having to copy-paste any code from this page.</p> <p>To quickly add this example to your wallpaper, simply click on the cogwheel icon next to the property you want to resize along with the beat of your music. Then click on <strong>Bind Script</strong>. The SceneScript code editor will appear. Next, click on <strong>Snippets</strong> at the top, followed by <strong>Replace Script</strong>. Select <strong>Audio Scale</strong> from the list of available scripts and confirm with <strong>OK</strong>.</p></div> <h2 id="registering-the-audio-buffers"><a href="#registering-the-audio-buffers" class="header-anchor">#</a> Registering the Audio Buffers</h2> <p>To get started, you first need to initialize the audio responsive system from Wallpaper Engine by calling the the <code>registerAudioBuffers()</code> function from the <a href="/wallpaper-engine-docs/scene/scenescript/reference/class/IEngine">global engine object</a>. The function will return an <a href="/wallpaper-engine-docs/scene/scenescript/reference/class/AudioBuffers">AudioBuffers</a> object, we recommend storing it in a <code>const</code> at the top of your script so that you only need to call this function once when the wallpaper is loaded:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> audioBuffer <span class="token operator">=</span> engine<span class="token punctuation">.</span><span class="token function">registerAudioBuffers</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span><span class="token constant">AUDIO_RESOLUTION_16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * @param {Vec3} value - for property 'scale'
 * @return {Vec3} - update current property value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The parameter of <code>registerAudioBuffers</code> determines the number of frequency bands you need, you should always choose the lowest number to ensure you are not wasting any system performance or memory. Valid values are:</p> <ul><li><code>engine.AUDIO_RESOLUTION_16</code> - 16 frequencies</li> <li><code>engine.AUDIO_RESOLUTION_32</code> - 32 frequencies</li> <li><code>engine.AUDIO_RESOLUTION_64</code> - 64 frequencies</li></ul> <p>In our example, we registered 16 frequencies since we only care about the bass frequencies as part of this tutorial, so a more finely-divided audio band is unnecessary.</p> <h2 id="basic-audio-responsive-example"><a href="#basic-audio-responsive-example" class="header-anchor">#</a> Basic Audio Responsive Example</h2> <p>Let's start with a very basic audio responsive example. We have an image layer that we placed in the center of our scene and we want to make it resize dynamically with the beat of music. To achieve this, we click on the cogwheel icon next to the <strong>Scale</strong> property and select <strong>Bind SceneScript</strong>. We can now modify the <strong>Scale</strong> with SceneScript.</p> <p>We now need to extend the example above by retrieving some audio volume levels from the <code>audioBuffer</code> that we created. The audio buffer object allows us to access <code>audioBuffer.average</code> to retrieve the average audio levels of the left and right audio channel. You can also only retrieve the left audio channel by accessing <code>audioBuffer.left</code> and the right audio channel by accessing <code>audioBuffer.right</code>.</p> <p>In the final step, we need to choose which audio frequency we want to access. In Wallpaper Engine, you most commonly want to work with low frequencies that represent the bass and the beat of music. That means, you can access the bass frequencies by accessing the first element via <code>audioBuffer.average[0]</code>. In our case, <code>[0]</code> represents the low bass frequencies, while <code>15</code> represents high treble frequencies. We go with <code>[0]</code> because we want our element to resize along the beat of our music.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> audioBuffer <span class="token operator">=</span> engine<span class="token punctuation">.</span><span class="token function">registerAudioBuffers</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span><span class="token constant">AUDIO_RESOLUTION_16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * @param {Vec3} value - for property 'scale'
 * @return {Vec3} - update current property value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	value<span class="token punctuation">.</span>x <span class="token operator">=</span> audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	value<span class="token punctuation">.</span>y <span class="token operator">=</span> audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	value<span class="token punctuation">.</span>z <span class="token operator">=</span> audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>We don't recommend using this code example in your wallpaper, follow-along with the rest of the page to learn about how to improve on this simple implementation.</p></div> <p>If you now save this script and click on <strong>Run Preview</strong> while listening to music, your image layer will dynamically resize depending on the audio volume of the bass frequencies of your music. Watch the following video to preview this code example:</p> <video width="100%" controls="controls"><source src="/wallpaper-engine-docs/videos/scenescript_basic_audio.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video> <h2 id="improving-audio-responsive-behavior"><a href="#improving-audio-responsive-behavior" class="header-anchor">#</a> Improving Audio Responsive Behavior</h2> <p>Our previous example has a few issues that we will address one by one now:</p> <ul><li>When no audio is playing, the scale is set to 0 and our element disappears.</li> <li>The element can become very large when the audio levels reach peak levels.</li> <li>The animation does not appear very smooth and it jumps around erratically.</li></ul> <h2 id="enforcing-a-minimum-default-size"><a href="#enforcing-a-minimum-default-size" class="header-anchor">#</a> Enforcing a Minimum Default Size</h2> <p>There are multiple ways you could achieve a minimum size, but the example we give here is the approach we recommend as it allows you to easily modify the default size in the editor later.</p> <p>First, set the <strong>Scale</strong> property to a desired value in the editor. In our example, we configure <strong>Scale X</strong>, <strong>Scale Y</strong> and <strong>Scale Z</strong> to be <strong>0.5</strong> for our image layer. It makes sense to start with a smaller value than 1 to ensure the quality of the image does not suffer when the image gets scaled up too large.</p> <p>After that, we extend our SceneScript code further by introducing the <code>init</code> function. The <code>init</code> function is called once when the wallpaper is loaded and allows us to store the default value of <code>Scale</code> that you configured in the editor in a variable. We then use this default value to add the audio volume on top:</p> <div class="language-js extra-class"><pre class="language-js"><code>	value<span class="token punctuation">.</span>x <span class="token operator">=</span> defaultScale<span class="token punctuation">.</span>x <span class="token operator">+</span> audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>If no audio is playing, the scale will now be the same as your default value and everything louder than that will have the audio volume additionally on top of that. The full script looks like this now, notice how we store the default value in the variable <code>defaultScale</code> in the <code>init</code> function:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> audioBuffer <span class="token operator">=</span> engine<span class="token punctuation">.</span><span class="token function">registerAudioBuffers</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span><span class="token constant">AUDIO_RESOLUTION_16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> defaultScale<span class="token punctuation">;</span>
<span class="token comment">/**
 * @param {Vec3} value - for property 'scale'
 * @return {Vec3} - update current property value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	value<span class="token punctuation">.</span>x <span class="token operator">=</span> defaultScale<span class="token punctuation">.</span>x <span class="token operator">+</span> audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	value<span class="token punctuation">.</span>y <span class="token operator">=</span> defaultScale<span class="token punctuation">.</span>y <span class="token operator">+</span> audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	value<span class="token punctuation">.</span>z <span class="token operator">=</span> defaultScale<span class="token punctuation">.</span>z <span class="token operator">+</span> audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * @param {Vec3} value - for property 'scale'
 * @return {Vec3} - update current property value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	defaultScale <span class="token operator">=</span> value<span class="token punctuation">;</span>
	<span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can quickly add the <code>init</code> function in the SceneScript editor by clicking on <strong>Snippets</strong> at the top, then select <strong>Insert Function</strong>, followed by <strong>init</strong>.</p></div> <h2 id="restricting-the-maximum-audio-response"><a href="#restricting-the-maximum-audio-response" class="header-anchor">#</a> Restricting the Maximum Audio Response</h2> <p>At this point, the animation will have a minimum size but it may still reach very large levels. It's important to note that the audio buffers normally do not reach values greater than <code>1.00</code>, however, in some cases this may happen. For this reason, we recommend always limiting the values you are working with. You can conveniently do this with the <code>Math.min()</code> function which easily allows you to limit a number to exceed a specific value. In our case, we extend our code by wrapping <code>audioBuffer.average[0]</code> in <code>Math.min()</code> with a maximum value of <code>1.00</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code>	value<span class="token punctuation">.</span>x <span class="token operator">=</span> defaultScale<span class="token punctuation">.</span>x <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	value<span class="token punctuation">.</span>y <span class="token operator">=</span> defaultScale<span class="token punctuation">.</span>y <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	value<span class="token punctuation">.</span>z <span class="token operator">=</span> defaultScale<span class="token punctuation">.</span>z <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If you do more complex processing with the audio data, you should first work with the unrestricted original audio data and only at the last step limit its value. Take how we do it in the next section of this page, where we only apply <code>Math.min()</code> at the last step of our processing.</p> <h2 id="smoothing-the-audio-response"><a href="#smoothing-the-audio-response" class="header-anchor">#</a> Smoothing the Audio Response</h2> <p>The last issue we need to address is the erratic movement of our audio visualization. The <code>update()</code> function is called every time Wallpaper Engine renders a new frame. This means that the values can jump significantly between frames if the audio volume changes drastically in a short period of time. Follow-along this section by reading the paragraphs below and review the code block below to see its corresponding lines, it's not as complicated as it looks at first glance!</p> <p>We can address this by adding a bit of extra code to smoothen the audio response. First, we need to declare a new variable that stores the audio response across multiple <code>update()</code> calls, we will name this variable <code>smoothAudioVolume</code> and initiate it with a value of <code>0</code> outside of any function.</p> <p>Next, we calculate the difference between the current audio volume and the previous audio volume (stored in <code>smoothAudioVolume</code>) to see how much the audio levels have changed since the last frame has been calculated. We store this result in a variable named <code>volumeDifference</code>.</p> <p>We use the <code>volumeDifference</code> in the next step to smoothen the response by multiplying it with a smoothing factor. In our example, we placed the <code>SMOOTHING_RATE</code> in a constant at the top of the code with a value of <code>15</code>, you can alter this number to increase or decrease the level of smoothing.</p> <p>We also multiply this with <code>engine.frametime</code>. This is important as we need the frametime to normalize the animation across different FPS settings, otherwise it will look different depending on what FPS setting is used. Keep in mind that the <code>update()</code> function is called once per frame. That means, if your FPS limit is 60, the <code>update()</code> function is called 60 times. If your FPS limit is <code>30</code>, it will just be called 30 times.</p> <p>Finally, we add this calculation to our <code>smoothAudioVolume</code> variable. In our code, this really just means the following:</p> <div class="language-js extra-class"><pre class="language-js"><code>	smoothAudioVolume <span class="token operator">+=</span> volumeDifference <span class="token operator">*</span> <span class="token constant">SMOOTHING_RATE</span> <span class="token operator">*</span> engine<span class="token punctuation">.</span>frametime<span class="token punctuation">;</span>
</code></pre></div><p>Just like in the previous sections, we use <code>Math.min()</code> to limit our maximum value to <code>1.00</code> to account for peak audio levels.</p> <p>We then simply return <code>smoothAudioVolume</code> at the end of the <code>update()</code> function. Previously, we modified value and specifically set <code>value.x</code>, <code>value.y</code> and <code>value.z</code>. However, if you know that all of them will be the same, you can just return a number and Wallpaper Engine will automatically apply the number to all three of them. This also works for <code>Vec2</code> properties, for example.</p> <p>The final code now looks as follows:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> audioBuffer <span class="token operator">=</span> engine<span class="token punctuation">.</span><span class="token function">registerAudioBuffers</span><span class="token punctuation">(</span>engine<span class="token punctuation">.</span><span class="token constant">AUDIO_RESOLUTION_16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">SMOOTHING_RATE</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> defaultScale<span class="token punctuation">;</span>
<span class="token keyword">let</span> smoothAudioVolume <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * @param {Vec3} value - for property 'scale'
 * @return {Vec3} - update current property value
 */</span>
 <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// Calculate difference in audio volume between last frame and now</span>
	<span class="token keyword">let</span> volumeDifference <span class="token operator">=</span> audioBuffer<span class="token punctuation">.</span>average<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> smoothAudioVolume<span class="token punctuation">;</span>
	<span class="token comment">// Add difference between previous and current frame, include frametime to account for FPS</span>
	smoothAudioVolume <span class="token operator">+=</span> volumeDifference <span class="token operator">*</span> <span class="token constant">SMOOTHING_RATE</span> <span class="token operator">*</span> engine<span class="token punctuation">.</span>frametime<span class="token punctuation">;</span>
	<span class="token comment">// Limit value to 1.00 to ignore excessive audio levels</span>
	smoothAudioVolume <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>smoothAudioVolume<span class="token punctuation">,</span> <span class="token number">1.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// Wallpaper Engine will create a Vec3 object for us if we just return a number here</span>
	<span class="token keyword">return</span> smoothAudioVolume<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * @param {Vec3} value - for property 'scale'
 * @return {Vec3} - update current property value
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	defaultScale <span class="token operator">=</span> value<span class="token punctuation">;</span>
	<span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can see the outcome of this in the following video. The animation is now much smoother and even when no audio is playing, our object remains visible and never grows to excessive sizes:</p> <video width="100%" controls="controls"><source src="/wallpaper-engine-docs/videos/scenescript_smoothened_audio.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wallpaper-engine-docs/en/scene/scenescript/tutorials.html" class="prev">
        SceneScript Tutorials
      </a></span> <!----></p></div> <footer><hr> <ul class="footer-list"><li></li> <li class="imprint"><a href="https://wallpaperengine.io/imprint.html">Imprint</a></li></ul></footer></main></div><div class="global-ui"><!----></div></div>
    <script src="/wallpaper-engine-docs/assets/js/app.a9f24f61.js" defer></script><script src="/wallpaper-engine-docs/assets/js/9.94e6aa3a.js" defer></script><script src="/wallpaper-engine-docs/assets/js/1.53c8499c.js" defer></script><script src="/wallpaper-engine-docs/assets/js/150.121ecb67.js" defer></script>
  </body>
</html>
